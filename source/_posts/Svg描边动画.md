---
title: Svgæè¾¹LoadingåŠ¨ç”»
thumbnail: 'https://bitiful.hudi.space/posts/2024/11/d063b0b7b68302ca0dc1cb5177187c69.png'
cover: 'https://bitiful.hudi.space/posts/2024/11/d063b0b7b68302ca0dc1cb5177187c69.png'
description: >-
  ä¹‹å‰åœ¨æµè§ˆä»–äººçš„åšå®¢æ—¶ï¼Œçœ‹åˆ°loadingåŠ¨ç”»æ˜¯è’™å¨œä¸½èçš„svgæè¾¹ã€‚è§‰å¾—æŒºå¯¹è‡ªå·±èƒƒå£çš„ï¼Œä½†æ˜¯åˆä¸çŸ¥é“è¿™æ ·çš„æ•ˆæœæ€ä¹ˆå»å®ç°ï¼Œå»bç«™åˆ·äº†ä¸€äº›å‰ç«¯çš„å­¦ä¹ è§†é¢‘ï¼Œå…¶ä¸­çœ‹åˆ°ä¸€ä¸ªç‰¹åˆ«å¥½çœ‹çš„åŠ¨ç”»ç‰¹æ•ˆã€‚activeçŠ¶æ€ä¸‹å¯¼èˆªæ çš„æ¯ä¸€ä¸ªèœå•é¡¹å›¾æ ‡çš„åŠ¨ç”»æè¾¹ï¼Œä½†æ˜¯å¥ˆä½•ä¸çŸ¥é“æ€ä¹ˆæŠŠsvgçš„å›¾æ ‡æ”¾åˆ°butterflyçš„__config.ymlå½“ä¸­ï¼Œæ‰€ä»¥å†³å®šå†™ä¸€ä¸ªsvgçš„æè¾¹loadingåŠ¨ç”»ã€‚
categories:
  - Hexoåšå®¢ç¾åŒ–
tags:
  - svg
  - åŠ¨ç”»
  - hexo
abbrlink: ca287c24
swiper_index: 5
---

# Svgæè¾¹åŠ¨ç”»

â€‹		ä¹‹å‰åœ¨æµè§ˆä»–äººçš„åšå®¢æ—¶ï¼Œçœ‹åˆ°loadingåŠ¨ç”»æ˜¯è’™å¨œä¸½èçš„svgæè¾¹ã€‚è§‰å¾—æŒºå¯¹è‡ªå·±èƒƒå£çš„ï¼Œä½†æ˜¯åˆä¸çŸ¥é“è¿™æ ·çš„æ•ˆæœæ€ä¹ˆå»å®ç°ï¼Œå»bç«™åˆ·äº†ä¸€äº›å‰ç«¯çš„å­¦ä¹ è§†é¢‘ï¼Œå…¶ä¸­çœ‹åˆ°ä¸€ä¸ªç‰¹åˆ«å¥½çœ‹çš„åŠ¨ç”»ç‰¹æ•ˆã€‚activeçŠ¶æ€ä¸‹å¯¼èˆªæ çš„æ¯ä¸€ä¸ªèœå•é¡¹å›¾æ ‡çš„åŠ¨ç”»æè¾¹ï¼Œä½†æ˜¯å¥ˆä½•ä¸çŸ¥é“æ€ä¹ˆæŠŠsvgçš„å›¾æ ‡æ”¾åˆ°butterflyçš„__config.ymlå½“ä¸­ï¼Œæ‰€ä»¥å†³å®šå†™ä¸€ä¸ªsvgçš„æè¾¹loadingåŠ¨ç”»ã€‚

â€‹		svgå›¾æ ‡çš„å®šä¹‰æœ¬æ–‡ä¸å†æè¿°ã€‚

## ä¸€ã€Svgå›¾æ ‡åº“

### 1ã€Svgå›¾æ ‡

1ã€ç›®å‰å›½å†…ä½¿ç”¨æ¯”è¾ƒç«çš„å°±æ˜¯é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“iconfont å®˜ç½‘åœ°å€ï¼šhttps://www.iconfont.cn  å›¾æ ‡æ¯”è¾ƒå¤šï¼Œå¹¶ä¸”æ˜¯å…è´¹ä½¿ç”¨çš„ã€‚æœ¬æ–‡ä»¥é˜¿é‡Œäº‘å›¾æ ‡ä¸ºä¾‹ã€‚ä½¿ç”¨æ–¹æ³•éƒ½æ˜¯ç›¸åŒçš„ã€‚

2ã€å½“ç„¶è¿˜æœ‰ä¸€äº›å…¶ä»–çš„å›¾æ ‡åº“ï¼Œä¼šåˆ—ä¸¾ä¸€äºŒï¼Œä½†æ˜¯å…·ä½“æ”¶ä»˜è´¹æƒ…å†µéœ€è¦è‡ªè¡ŒæŸ¥çœ‹å®˜ç½‘ã€‚

iconparkï¼šå®˜ç½‘åœ°å€ï¼šhttps://iconpark.oceanengine.comã€‚

iconfinderï¼šå®˜ç½‘åœ°å€ï¼š https://www.iconfinder.com

flaticonï¼šå®˜ç½‘åœ°å€ï¼šhttps://www.flaticon.com

### 2ã€è·å–Svgå›¾æ ‡

é¦–å…ˆç™»å½•é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“iconfont å®˜ç½‘åœ°å€ï¼šhttps://www.iconfont.cn å®˜æ–¹ç½‘ç«™ã€‚ç”±äºè·å–çš„æ˜¯svgå›¾æ ‡ï¼Œå…¶å®å°±æ˜¯å›¾æ ‡çš„è·¯å¾„ä¿¡æ¯ã€‚æ‰€ä»¥åªéœ€è¦å¤åˆ¶svgçš„è·¯å¾„ä¿¡æ¯å°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ã€‚

åœ¨æœç´¢æ è¾“å…¥æƒ³è¦çš„å›¾æ ‡ä¿¡æ¯ã€‚æ”¯æŒä¸­æ–‡ç›´æ¥æœç´¢ï¼Œä¹Ÿå¯ä½¿ç”¨è‹±æ–‡ã€‚

![image-20241126184904620](https://bitiful.hudi.space/posts/2024/11/3b3dc2ab52c4dd23150aa1644f11af53.png)

ç„¶åå†æœç´¢æ ä¸­ç‚¹å‡»å¿ƒæ„çš„å›¾æ ‡çš„ä¸‹è½½æŒ‰é’®ï¼Œå°±å¯ä»¥è·å–è¯¥å›¾æ ‡çš„çš„ä¿¡æ¯äº†ã€‚å¯ä»¥åœ¨è¢«é€‰ä¸­å›¾æ ‡çš„é¡µé¢ï¼Œå¯¹å›¾æ ‡çš„é¢œè‰²ï¼Œå¤§å°ç­‰ä¿¡æ¯è¿›è¡Œé…ç½®ã€‚ä¹Ÿå¯ä»¥ç›´æ¥ä¸‹è½½å›¾æ ‡çš„pngå›¾ç‰‡ã€‚è¿™é‡Œæˆ‘ä»¬ç‚¹å‡»ã€å¤åˆ¶svgä»£ç ä¿¡æ¯ã€‘æŒ‰é’®ã€‚æœ¬æ–‡ä»…ä»¥ä¸€ä¸ªç®€å•svgå‘å³çš„å›¾æ ‡ä¸ºä¾‹ã€‚å…¶ä»–ä»»ä½•çš„å¤æ‚çš„svgå›¾æ ‡æè¾¹åŠ¨ç”»éƒ½å¯ä»¥ç”¨è¯¥æ–¹æ³•å»å®ç°ã€‚

![image-20241126190350090](https://bitiful.hudi.space/posts/2024/11/6c79073b3361657a6751a8d31c093e58.png)

å°†svgä»£ç ç›´æ¥ç²˜è´´åˆ°çš„htmlé¡µé¢çš„é€‚å½“ä½ç½®å°±å¯ä»¥æ­£å¸¸æ˜¾ç¤ºäº†ã€‚ä½†æ˜¯ä»–åªæ˜¯é™é™åœ°æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šã€‚æ²¡æœ‰ä»»ä½•çš„åŠ¨æ€æ•ˆæœã€‚ç”±äºè¦ä½¿ç”¨cssåŠ¨ç”»æè¾¹ï¼Œæ‰€ä»¥å»ºè®®å›¾æ ‡çš„é¢œè‰²æœ€å¥½æ˜¯ç™½è‰²ï¼Œæè¾¹çš„é¢œè‰²æ˜¯é»‘è‰²æˆ–è€…æ˜¯å›¾æ ‡é»‘è‰²ï¼Œæè¾¹ç™½è‰²ã€‚è¿™æ ·æ›´åŠ èƒ½å¤Ÿå»å‡¸æ˜¾æè¾¹çš„æ•ˆæœã€‚

~~~html
<div class="loading">
<svg t="1732618860711" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9189" width="200" height="200">
    <path class="path" d="M782.222222 512L307.2 1012.622222c-14.222222 11.377778-39.822222 14.222222-51.2 2.844445-8.533333-8.533333-14.222222-28.444444 2.844444-45.511111l440.888889-455.111112L258.844444 56.888889S241.777778 28.444444 264.533333 14.222222c19.911111-14.222222 34.133333-8.533333 42.666667 0L782.222222 512z" fill="#ffffff" p-id="9190"></path>
    </svg>
</div>
~~~

## äºŒã€Svgæè¾¹åŠ¨ç”»

### 1ã€æ·»åŠ cssä»£ç 

é¦–å…ˆä¸ºsvgçš„pathå…ƒç´ æ·»åŠ ä¸€ä¸ªç±»æ ·å¼ï¼Œ*æ³¨æ„é€‰å–çš„svgå›¾æ ‡çš„å¤æ‚ç¨‹åº¦ï¼Œsvgå…ƒç´ ä¸‹ä¼šæœ‰å¤šä¸ªpathå…ƒç´ ï¼Œè¦ä¸ºæ¯ä¸€ä¸ªpathå…ƒç´ éƒ½æ·»åŠ ç±»æ ·å¼ã€‚*

cssä»£ç å¦‚ä¸‹ã€‚è¯¥éƒ¨åˆ†ä»£ç åªæ˜¯è®²è§£svgæè¾¹çš„åŸç†ï¼Œå¹¶éæœ€ç»ˆä»£ç ã€‚æœ€ç»ˆå®ç°ä»£ç åœ¨åæ–‡ä¸­ã€‚

~~~css
.path{
     stroke: lightslategrey; 
     stroke-width:10;
     stroke-dasharray: 20;
     stroke-dashoffset: 10;
     stroke-linecap: round;
}
~~~

### 2ã€å±æ€§è¯´æ˜

| å±æ€§å            | ä½œç”¨                                                   |
| ----------------- | ------------------------------------------------------ |
| stroke            | æè¾¹çš„é¢œè‰²ä¸ºlightslategrey                             |
| stroke-width      | æè¾¹çº¿æ¡çš„å®½åº¦ä¸º10                                     |
| stroke-dasharray  | æè¾¹çº¿æ¡çš„ç±»å‹ä¸ºè™šçº¿ï¼Œè¡¨ç¤ºè™šçº¿å’Œé—´éš”éƒ½æ˜¯20ä¸ªå•ä½é•¿åº¦ã€‚ |
| stroke-dashoffset | è™šçº¿ä¸è·¯å¾„èµ·ç‚¹ä¹‹é—´çš„åç§»é‡ä¸º10                         |
| stroke-linecap    | çº¿æ®µç«¯ç‚¹çš„æ ·å¼                                         |

### 3ã€æè¾¹åŸç†

1ã€å½“stroke-dashoffsetæ­£å¢é•¿æ—¶ï¼Œçº¿æ¡å°±ä¼šå‘çº¿çš„èµ·å§‹ä½ç½®å»ç§»åŠ¨ã€‚

2ã€å½“stroke-dashoffsetè´Ÿå¢é•¿æ—¶ï¼Œçº¿æ¡å°±ä¼šå‘çº¿çš„ç»“æŸä½ç½®å»ç§»åŠ¨ã€‚

3ã€å½“stroke-dasharrayçš„å€¼ä¸è·¯å¾„çš„é•¿åº¦ç›¸ç­‰æ—¶ï¼Œè¿™æ—¶è™šçº¿ä¸­çš„ä¸€æ®µï¼Œå°±ä¼šè¦†ç›–å‡ºæ•´ä¸ªè·¯å¾„ã€‚ä¹Ÿå°±æ˜¯ä¸€æ•´ä¸ªå›¾æ ‡ã€‚å½“stroke-dashoffsetçš„å€¼æ˜¯è·¯å¾„çš„é•¿åº¦å€¼è¿™æ—¶æ•´ä¸ªå›¾æ ‡æˆ‘ä»¬çœ‹åˆ°çš„å°±æ˜¯ç©ºéš™çš„éƒ¨åˆ†ã€‚ä¹Ÿå°±æ˜¯å›¾æ ‡å‘ˆç°å‡ºä¸å¯è§çŠ¶æ€ã€‚è¿™æ—¶å®šä¹‰åŠ¨ç”»è®©stroke-dashoffsetä»æ•´ä¸ªè·¯å¾„å€¼å‘0æ”¹å˜ã€‚è¿™æ—¶å›¾æ ‡çš„è·¯å¾„çš„å°†å‘ç»“æŸä½ç½®åç§»ã€‚å®çº¿çš„éƒ¨åˆ†ä¹Ÿå°±æ…¢æ…¢çš„å±•ç°å‡ºæ¥ï¼Œå°±å¯ä»¥å®ç°ä¸€ä¸ªæè¾¹çš„æ•ˆæœäº†ã€‚ä½†æ˜¯ç”±ä¸å¤æ‚çš„svgå›¾æ ‡è·¯å¾„é•¿åº¦æˆ‘ä»¬æ˜¯æ²¡åŠæ³•ç›´æ¥è·å–åˆ°çš„ã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡JavaScriptå»è·å–ã€‚åŒæ—¶è¦è®©JavaScriptè·å–åˆ°çš„å€¼ï¼Œå»ç»‘å®šåˆ°å¯¹åº”å…ƒç´ çš„cssçš„å±æ€§ä¸Šï¼Œæ‰€ä»¥å°±éœ€è¦å¼•å…¥ä¸€ä¸ªcsså˜é‡ï¼Œ--lengthè¡¨ç¤ºæ•´ä¸ªsvgå›¾æ ‡çš„è·¯å¾„é•¿åº¦ã€‚

### 4ã€ä»£ç å®ç°

è·å–è·¯å¾„é•¿åº¦çš„å¹¶è®¾ç½®--lengthå±æ€§çš„JavaScriptä»£ç 

~~~JavaScript
let plist =document.querySelectorAll(".path")
    plist.forEach(p=>{
       const length= p.getTotalLength()
        p.style.setProperty("--length",length)
})
~~~

cssä»£ç ,åŒæ—¶åŠ ä¸Šstroke-dashoffsetçš„ä½ç§»åŠ¨ç”»ä»£ç å¦‚ä¸‹ï¼š

~~~css
 .path{
     stroke: lightslategrey;
     stroke-width:10;
     stroke-dasharray: var(--length);
     stroke-dashoffset: var(--length);
     stroke-linecap: round;
     animation: strokesanimation 2s infinite;
}
@keyframes strokesanimation {
    to{
         stroke-dashoffset: 0;
    }
}
~~~

åˆ°è¿™é‡Œï¼Œæ•´ä¸ªsvgæè¾¹å°±å®Œæˆäº†ã€‚ğŸ‰ğŸ‰ğŸ‰ğŸ‰

## ä¸‰ã€åŠ¨ç”»æ›¿æ¢

â€‹		butterflyä¸»é¢˜çš„fullpage_loading.pugçš„æ›¿æ¢ã€‚ç”±äºæœ¬äººåˆšæ¥è§¦butterflyï¼Œå¾ˆå¤šåœ°æ–¹ä¸ç†Ÿæ‚‰ã€‚æ‰€ä»¥è¿™é‡Œä»…ä»…æ˜¯ä¸€ç§å‚è€ƒæ–¹æ¡ˆã€‚è‹¥æ‚¨æœ‰æ›´å¥½æ–¹æ¡ˆçš„ä¹Ÿå¯ä»¥åˆ†äº«å‡ºæ¥ã€‚æ›¿æ¢æ­¥éª¤å¦‚ä¸‹ã€‚*æ³¨æ„ï¼šåœ¨æ›¿æ¢å‰è¯·æ³¨æ„å¤‡ä»½åŸæ¥çš„fullpage_loading.pugä»£ç ï¼Œé˜²æ­¢æ›¿æ¢å¤±è´¥ï¼Œä»£ç ä¿¡æ¯æ— æ³•æ¢å¤ã€‚*

1ã€pugæ¨¡ç‰ˆã€‚æ–‡ä»¶è·¯å¾„ï¼šthemes\butterfly\layout\includes\loading\fullpage_loading.pug

~~~diff
#loading-box
  .loading-left-bg
  .loading-right-bg
  .spinner-box
-    .configure-border-1
-      .configure-core
-    .configure-border-2
-      .configure-core
-    .loading-word= _p('loading')
+    .svg

# scriptä»£ç ä¸­initloadingæ–¹æ³•ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç .svg.innerHTMLæ›¿æ¢ä½ éœ€è¦çš„svgå›¾æ ‡çš„ä»£ç ä¿¡æ¯å³å¯

initLoading: () => {
+      const svg= document.querySelector(".svg")
+      svg.innerHTML=``
+      let plist = document.querySelectorAll(".path")
+      plist.forEach(p => {
+         const length = p.getTotalLength()
+         p.style.setProperty("--length", length)
+       })
        $body.style.overflow = 'hidden'
        $loadingBox.classList.remove('loaded')
      }
}
~~~

2ã€styleæ ·å¼ä¿¡æ¯æ›¿æ¢ï¼Œæ–‡ä»¶è·¯å¾„ï¼šthemes\butterfly\source\css\_layout\loading.styl

~~~css
#åœ¨.spinner-boxä¸‹ç›´æ¥æ·»åŠ ä»¥ä¸‹ä»£ç ã€‚æ³¨æ„ç¼©è¿›ä¸ç„¶ä¼šæŠ¥é”™
.path{
        stroke: lightslategrey;
        --length: 0;
        stroke-width:10;
        stroke-dasharray: var(--length);
        stroke-dashoffset: var(--length);
        stroke-linecap: round;
        animation: strokesanimation 2s infinite;
}
@keyframes strokesanimation {
  to{
    stroke-dashoffset: 0;
  }
}

#æ³¨é‡Šä»¥ä¸‹ä»£ç 
.configure-border-1
   position: absolute
   padding: 3px
   width: 115px
   height: 115px
   background: #ffab91
   animation: configure-clockwise 3s ease-in-out 0s infinite alternate

.configure-border-2
   left: -115px
   padding: 3px
   width: 115px
   height: 115px
   background: rgb(63, 249, 220)
   transform: rotate(45deg)
   animation: configure-xclockwise 3s ease-in-out 0s infinite alternate

.loading-word
   position: absolute
   color: var(--preloader-color)
   font-size: 16px

@keyframes configure-clockwise
   0%
   		transform: rotate(0)
   25%
        transform: rotate(90deg)
   50% 
        transform: rotate(180deg)
   75%
        transform: rotate(270deg)
   100%
        transform: rotate(360deg)
@keyframes configure-xclockwise
   0%
        transform: rotate(45deg)  
   25%
        transform: rotate(-45deg)
   50%
        transform: rotate(-135deg)
   75%
        transform: rotate(-225deg)
   100%
        transform: rotate(-315deg)
~~~

å®Œæˆä¸Šé¢çš„æ›¿æ¢ã€‚ä½ çš„åšå®¢ä¹Ÿå¯ä»¥æ‹¥æœ‰ä¸€ä¸ªsvgåŠ è½½åŠ¨ç”»äº†ã€‚ğŸ‰ğŸ‰ğŸ‰ğŸ‰ 

â€‹		
